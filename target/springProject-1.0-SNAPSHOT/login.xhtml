<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
		"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:p="http://primefaces.org/ui">

<h:head>
	<link href="css/style.css" rel="stylesheet" type="text/css" />
	<link href="//db.onlinewebfonts.com/c/f977213040abc486420980aae60e0db3?family=GestaW01-Medium" rel="stylesheet" type="text/css"/>
	<title>Login</title>

</h:head>

<h:body >
	<div id="header">
		<div id="logo"></div>

	</div>

	<div id="top">
		<h:form>
			<p:commandButton action="index.xhtml?faces-redirect=true" style='float: left;' id="dynaButton" value="Regresar"  icon="ui-icon-home"/>
		</h:form>
	</div>

<center>
	<div class="login">
	<p:graphicImage url="/imagen/log.png" style="width: 150px"/>
	<center>
	<h:form id="AgregarColaborador">
		<p:growl id="msgs" showDetail="true" life="3000" ><p:autoUpdate/></p:growl>

		<h:panelGrid columns="2"  id="panel2">

			<p:outputLabel value="Usuario:" styleClass="required" indicateRequired="true" for="usuario"/>
			<p:inputText id="usuario" required="true"   requiredMessage="Ingrese su usuario" value="#{colaboradorBean.colaboradorlogueado.pk_idColaborador}">
				<f:ajax event="blur" execute="@this" render="idmessage" />
			</p:inputText>
			<p:watermark value="Usuario" for="usuario"/>
			<p:message id="idmessage" for="usuario"/>


			<p:outputLabel value="Contraseña:" styleClass="required" indicateRequired="true" for="contraseña"/>
			<p:password id="contraseña" required="true" requiredMessage="Ingrese la contraseña" value="#{colaboradorBean.colaboradorlogueado.clave}">
				<f:ajax event="blur" execute="@this" render="Nmessage" />
			</p:password>
			<p:watermark value="Contraseña" for="contraseña"/>
			<p:message id="Nmessage" for="contraseña"/>
		</h:panelGrid>
		<center>
			<p:commandButton value="login"  action="#{colaboradorBean.doLogin}" style="margin-right:20px;margin-top: 20px"
							 styleClass="loginButton" />
		</center>
	</h:form>
	</center>
	</div>
</center>
	<p:dialog id="dlCC" header="Actualizar clave de Usuario"  showEffect="fade" hideEffect="fade"
			  widgetVar="dlCC" modal="true" resizable="false" minWidth="450"  >
		<h:form id="ActualizarClave">
			<p:growl id="msgs5" showDetail="true" rendered="#{not facesContext.validationFailed}"/>
			<h:panelGrid columns="2"  id="panel5">
				<p:outputLabel value="Usuario:" styleClass="required" indicateRequired="true" for="usuarioCC"/>
				<p:inputText id="usuarioCC" required="true"   requiredMessage="Ingrese su usuario" value="#{colaboradorBean.colaboradorlogueado.pk_idColaborador}">
					<f:ajax event="blur" execute="@this" render="idmessageCC" />
				</p:inputText>
				<p:watermark value="Usuario" for="usuarioCC"/>
				<p:message id="idmessageCC" for="usuarioCC"/>

				<p:outputLabel value="Contraseña:" styleClass="required" indicateRequired="true" for="contraseñaCC"/>
				<p:password id="contraseñaCC" required="true" requiredMessage="Ingrese la contraseña" value="#{colaboradorBean.colaboradorlogueado.clave}">
					<f:ajax event="blur" execute="@this" render="NmessageCC" />
				</p:password>
				<p:watermark value="Contraseña" for="contraseñaCC"/>
				<p:message id="NmessageCC" for="contraseñaCC"/>
			</h:panelGrid>
			<center>
				<p:commandButton value="Cambiar"
								 action="#{colaboradorBean.cambioClave}"
								 style="margin-right:20px;margin-top: 20px"
								 styleClass="ui-priority-primary" />
			</center>
		</h:form>
	</p:dialog>
	<div id="footer">
		<br/>
		<a href="http://localhost:8080/ProyectoSCM_03_war/acerca.xhtml"> ©</a>  SISTEMA CONTROL DE MARCAS WYNDHAM HERRADURA

	</div>
</h:body>
</html>